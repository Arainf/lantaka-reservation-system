import{r as o,j as d,R as b,f as X}from"./index-D5vEyPHo.js";import{a as w,u as R,S as U,P as I,d as Y,c as P,h as G,B as J}from"./createLucideIcon-8mYcU7v_.js";import{i as Q}from"./App-Djhw_SJK.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=w("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=w("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=w("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=w("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=w("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function L(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Ae(t,e){const n=o.createContext(e),r=i=>{const{children:l,...u}=i,f=o.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(i){const l=o.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ne(t,e=[]){let n=[];function r(i,l){const u=o.createContext(l),f=n.length;n=[...n,l];const a=p=>{var N;const{scope:m,children:v,...h}=p,y=((N=m==null?void 0:m[t])==null?void 0:N[f])||u,g=o.useMemo(()=>h,Object.values(h));return d.jsx(y.Provider,{value:g,children:v})};a.displayName=i+"Provider";function c(p,m){var y;const v=((y=m==null?void 0:m[t])==null?void 0:y[f])||u,h=o.useContext(v);if(h)return h;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[a,c]}const s=()=>{const i=n.map(l=>o.createContext(l));return function(u){const f=(u==null?void 0:u[t])||i;return o.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[r,se(s,...e)]}function se(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:f,scopeName:a})=>{const p=f(i)[`__scope${a}`];return{...u,...p}},{});return o.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function M(t){const e=o.useRef(t);return o.useEffect(()=>{e.current=t}),o.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Te({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=re({defaultProp:e,onChange:n}),i=t!==void 0,l=i?t:r,u=M(n),f=o.useCallback(a=>{if(i){const p=typeof a=="function"?a(t):a;p!==t&&u(p)}else s(a)},[i,t,s,u]);return[l,f]}function re({defaultProp:t,onChange:e}){const n=o.useState(t),[r]=n,s=o.useRef(r),i=M(e);return o.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function je(t){const e=t+"CollectionProvider",[n,r]=ne(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:h,children:y}=v,g=b.useRef(null),N=b.useRef(new Map).current;return d.jsx(s,{scope:h,itemMap:N,collectionRef:g,children:y})};l.displayName=e;const u=t+"CollectionSlot",f=b.forwardRef((v,h)=>{const{scope:y,children:g}=v,N=i(u,y),C=R(h,N.collectionRef);return d.jsx(U,{ref:C,children:g})});f.displayName=u;const a=t+"CollectionItemSlot",c="data-radix-collection-item",p=b.forwardRef((v,h)=>{const{scope:y,children:g,...N}=v,C=b.useRef(null),S=R(h,C),E=i(a,y);return b.useEffect(()=>(E.itemMap.set(C,{ref:C,...N}),()=>void E.itemMap.delete(C))),d.jsx(U,{[c]:"",ref:S,children:g})});p.displayName=a;function m(v){const h=i(t+"CollectionConsumer",v);return b.useCallback(()=>{const g=h.collectionRef.current;if(!g)return[];const N=Array.from(g.querySelectorAll(`[${c}]`));return Array.from(h.itemMap.values()).sort((E,T)=>N.indexOf(E.ref.current)-N.indexOf(T.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:l,Slot:f,ItemSlot:p},m,r]}var oe=o.createContext(void 0);function Le(t){const e=o.useContext(oe);return t||e||"ltr"}function ie(t,e=globalThis==null?void 0:globalThis.document){const n=M(t);o.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ae="DismissableLayer",D="dismissableLayer.update",ce="dismissableLayer.pointerDownOutside",ue="dismissableLayer.focusOutside",z,V=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q=o.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...f}=t,a=o.useContext(V),[c,p]=o.useState(null),m=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=o.useState({}),h=R(e,x=>p(x)),y=Array.from(a.layers),[g]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(g),C=c?y.indexOf(c):-1,S=a.layersWithOutsidePointerEventsDisabled.size>0,E=C>=N,T=de(x=>{const O=x.target,B=[...a.branches].some(j=>j.contains(O));!E||B||(s==null||s(x),l==null||l(x),x.defaultPrevented||u==null||u())},m),_=fe(x=>{const O=x.target;[...a.branches].some(j=>j.contains(O))||(i==null||i(x),l==null||l(x),x.defaultPrevented||u==null||u())},m);return ie(x=>{C===a.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&u&&(x.preventDefault(),u()))},m),o.useEffect(()=>{if(c)return n&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(z=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(c)),a.layers.add(c),$(),()=>{n&&a.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=z)}},[c,m,n,a]),o.useEffect(()=>()=>{c&&(a.layers.delete(c),a.layersWithOutsidePointerEventsDisabled.delete(c),$())},[c,a]),o.useEffect(()=>{const x=()=>v({});return document.addEventListener(D,x),()=>document.removeEventListener(D,x)},[]),d.jsx(I.div,{...f,ref:h,style:{pointerEvents:S?E?"auto":"none":void 0,...t.style},onFocusCapture:L(t.onFocusCapture,_.onFocusCapture),onBlurCapture:L(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:L(t.onPointerDownCapture,T.onPointerDownCapture)})});q.displayName=ae;var le="DismissableLayerBranch",K=o.forwardRef((t,e)=>{const n=o.useContext(V),r=o.useRef(null),s=R(e,r);return o.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(I.div,{...t,ref:s})});K.displayName=le;function de(t,e=globalThis==null?void 0:globalThis.document){const n=M(t),r=o.useRef(!1),s=o.useRef(()=>{});return o.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let f=function(){H(ce,n,a,{discrete:!0})};const a={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fe(t,e=globalThis==null?void 0:globalThis.document){const n=M(t),r=o.useRef(!1);return o.useEffect(()=>{const s=i=>{i.target&&!r.current&&H(ue,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $(){const t=new CustomEvent(D);document.dispatchEvent(t)}function H(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Y(s,i):s.dispatchEvent(i)}var De=q,ke=K,k=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},me="Portal",pe=o.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,i]=o.useState(!1);k(()=>i(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?X.createPortal(d.jsx(I.div,{...r,ref:e}),l):null});pe.displayName=me;function ve(t,e){return o.useReducer((n,r)=>e[n][r]??n,t)}var he=t=>{const{present:e,children:n}=t,r=xe(e),s=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),i=R(r.ref,ye(s));return typeof n=="function"||r.isPresent?o.cloneElement(s,{ref:i}):null};he.displayName="Presence";function xe(t){const[e,n]=o.useState(),r=o.useRef({}),s=o.useRef(t),i=o.useRef("none"),l=t?"mounted":"unmounted",[u,f]=ve(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const a=A(r.current);i.current=u==="mounted"?a:"none"},[u]),k(()=>{const a=r.current,c=s.current;if(c!==t){const m=i.current,v=A(a);t?f("MOUNT"):v==="none"||(a==null?void 0:a.display)==="none"?f("UNMOUNT"):f(c&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),k(()=>{if(e){let a;const c=e.ownerDocument.defaultView??window,p=v=>{const y=A(r.current).includes(v.animationName);if(v.target===e&&y&&(f("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",a=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},m=v=>{v.target===e&&(i.current=A(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{c.clearTimeout(a),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:o.useCallback(a=>{a&&(r.current=getComputedStyle(a)),n(a)},[])}}function A(t){return(t==null?void 0:t.animationName)||"none"}function ye(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ge=o.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:P("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ge.displayName="Card";const Ne=o.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:P("flex flex-col space-y-1.5 p-6",t),...e}));Ne.displayName="CardHeader";const Ce=o.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:P("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ce.displayName="CardTitle";const Ee=o.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:P("text-sm text-muted-foreground",t),...e}));Ee.displayName="CardDescription";const be=o.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:P("p-6 pt-0",t),...e}));be.displayName="CardContent";const Pe=o.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:P("flex items-center p-6 pt-0",t),...e}));Pe.displayName="CardFooter";const Ie="/assets/SchoolLogo-BrBAvufW.png",Re=G("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function we({className:t,variant:e,...n}){return d.jsx("div",{className:P(Re({variant:e}),t),...n})}const _e=()=>{const{notifications:t,markAllAsRead:e}=Q(),[n,r]=o.useState(!1),[s,i]=o.useState([]),l=o.useRef(null);o.useEffect(()=>{const c=localStorage.getItem("userRole")||"",p=t.filter(m=>c==="Administrator"?m.notification_role==="Administrator":c==="Employee"?m.notification_role==="Employee":!1);i(p)},[t]),o.useEffect(()=>{const c=p=>{l.current&&!l.current.contains(p.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const u=()=>{r(c=>!c)},f=c=>{c.stopPropagation(),e()},a=c=>{switch(c){case"Added":return d.jsx(ee,{size:28,className:"mr-2 text-green-600"});case"Deleted":return d.jsx(te,{size:28,className:"mr-2 text-red-600"});case"Reserve":return d.jsx(W,{size:28,className:"mr-2 text-blue-600"});case"Upcoming":return d.jsx(W,{size:28,className:"mr-2 text-yellow-600"});case"Modified":return d.jsx(Z,{size:28,className:"mr-2 text-violet-600"});default:return d.jsx(F,{size:28,className:"mr-2 text-gray-600"})}};return d.jsxs("div",{className:"relative",ref:l,children:[d.jsxs("div",{onClick:u,className:"cursor-pointer",children:[d.jsx(F,{size:24,className:"text-gray-400 hover:text-[#fcb813] hover:scale-110 transition-all"}),s.length>0&&d.jsx(we,{variant:"destructive",className:"absolute -top-1 -right-[0] px-1 w-4 h-4 text-center align-middle justify-center rounded-xl text-[10px] leading-none",children:s.length})]}),n&&d.jsx("div",{className:"absolute right-0 mt-2 w-96 bg-white text-black rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("div",{className:"font-semibold",children:"Notifications"}),d.jsx(J,{variant:"ghost",size:"sm",onClick:f,className:"text-xs focus:outline-none",children:"Mark all as read"})]}),s.length>0?s.map(c=>d.jsxs("div",{className:"flex items-start border-b py-2 hover:bg-gray-100",children:[a(c.notification_type),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:c.notification_type}),d.jsx("p",{className:"text-xs text-gray-600",children:c.notification_description})]})]},c.notification_id)):d.jsx("p",{className:"text-xs text-gray-600",children:"No notifications."})]})})]})};export{we as B,ge as C,q as D,_e as N,he as P,De as R,Ie as S,te as T,ne as a,Te as b,je as c,M as d,L as e,pe as f,be as g,Ne as h,Ce as i,Ee as j,Pe as k,W as l,ee as m,ke as n,k as o,Ae as p,Le as u};
